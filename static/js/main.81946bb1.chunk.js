(this["webpackJsonprectangles-no-4"]=this["webpackJsonprectangles-no-4"]||[]).push([[0],{17:function(t,i,e){},30:function(t,i,e){"use strict";e.r(i);var s=e(1),n=e.n(s),r=e(9),h=e.n(r),a=(e(17),e(2));window.p5=a;e(19);var o=e(10),c=e(0);function l(){return Object(c.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(c.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(c.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var d=e(11),u=e(12),g=function(){function t(i,e,s,n,r,h){Object(d.a)(this,t),this.p=i,this.origX=e,this.x=e,this.origY=s,this.y=s,this.origWidth=n,this.width=n,this.origHeight=r,this.height=r,this.area=this.width*this.height,this.colour=h,this.currentFill=h,this.switchFill=!1,this.animate=!1,this.drawOutline=!1,this.rotation=0,this.clockwise=Math.random()<.5,this.maxArea=1.25*this.area,this.direction="left"}return Object(u.a)(t,[{key:"reset",value:function(){this.x=this.origX,this.y=this.origY,this.width=this.origWidth,this.height=this.origHeight,this.area=this.width*this.height,this.animate=!1,this.rotation=0}},{key:"update",value:function(){if(this.animate){var t=this.p.width/2;"left"===this.direction&&this.x<this.p.width?this.x=this.x+16>this.p.width?this.p.width:this.x+16:"right"===this.direction&&t&&this.x>0&&(this.x=this.x-16<0?0:this.x-16),this.y<this.p.height&&(this.y=this.y+8>=this.p.height?this.p.height:this.y+8),this.width=this.width+2,this.height=this.height+2,this.area=this.width*this.height,this.rotation=this.clockwise?this.rotation+6:this.rotation-6}}},{key:"draw",value:function(){if(this.p.strokeWeight(1),this.switchFill?(this.p.strokeWeight(5),"white"===this.currentFill?(this.p.stroke(this.colour),this.p.fill(255)):(this.p.stroke(255),this.p.fill(this.colour)),this.p.rect(this.origX,this.origY,this.origWidth/2,this.origHeight/2)):this.drawOutline&&(this.p.fill(this.colour),this.p.rect(this.origX,this.origY,this.origHeight,this.origHeight)),this.p.stroke(this.colour),this.p.noFill(),this.p.translate(this.x,this.y),this.animate,this.p.rotate(this.rotation),this.animate){var t=this.width,i=this.height;this.p.strokeWeight(2);for(var e=0;e<=8;e++)this.p.rect(0,0,t,i),t*=.8,i*=.8}this.p.rotate(-this.rotation),this.p.translate(-this.x,-this.y)}}]),t}(),f=e.p+"static/media/rectangles-no-4.9206a5c2.ogg",p=e.p+"static/media/rectangles-no-4.66e7c9a2.mid",w=function(){var t=Object(s.useRef)(),i=function(t){t.canvas=null,t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.audioLoaded=!1,t.player=null,t.PPQ=3840,t.tempo=96,t.barAsSeconds=Math.floor(60/t.tempo*4*1e5)/1e5,t.barAsTicks=16*t.PPQ,t.loadMidi=function(){o.Midi.fromUrl(p).then((function(i){var e=i.tracks[7].notes,s=i.tracks[1].notes,n=i.tracks[0].notes;t.scheduleCueSet(e,"executeCueSet1"),t.scheduleCueSet(s,"executeCueSet2",!0),t.scheduleCueSet(n,"executeCueSet3",!0),t.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},t.preload=function(){t.song=t.loadSound(f,t.loadMidi),t.song.onended(t.logCredits)},t.scheduleCueSet=function(i,e){for(var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1,r=1,h=0;h<i.length;h++){var a=i[h],o=a.ticks,c=a.time;(o!==n||s)&&(a.currentCue=r,t.song.addCue(c,t[e],a),n=o,r++)}},t.setup=function(){t.canvas=t.createCanvas(t.canvasWidth,t.canvasHeight),t.colorMode(t.HSB),t.rectMode(t.CENTER),t.angleMode(t.DEGREES),t.populateRectanglesArray(),t.frameRate(16),t.background(0)},t.draw=function(){t.audioLoaded&&t.song.isPlaying()&&t.reDraw()},t.reDraw=function(){t.background(0);for(var i=0;i<t.rectangles.length;i++){var e=t.rectangles[i],s=e[Object.keys(e)[0]],n=s.x,r=s.y;s.draw(),s.update(),r===t.height&&(n<=0||n>=t.width)&&s.reset()}},t.rectangles=[],t.numOfCells=32,t.resetCues=[18,36,54,72,90,108,126,144,162,180,198,216],t.direction="left",t.executeCueSet1=function(i){var e=i.ticks,s=(i.midi,i.currentCue),n=e%(2*t.barAsTicks),r=("left"===t.direction?n/t.PPQ:31-n/t.PPQ)+"-"+Math.floor(t.random(0,16)),h=t.rectangles.find((function(t){return Object.keys(t)[0]===r}))[r];t.resetCues.includes(s)&&(t.resetOutline(),t.direction="left"===t.direction?"right":"left"),h.direction=t.direction,h.width=0,h.height=0,h.animate=!0,h.drawOutline=!0},t.executeCueSet2=function(i){var e=i.ticks,s=i.midi,n=e%t.barAsTicks,r=(t.direction,t.direction,t.map(s,36,45,6,15)+"-"+(31-n/t.PPQ)),h=t.rectangles.find((function(t){return Object.keys(t)[0]===r}))[r];0===n&&t.resetSwitchFill(),h.switchFill=!0,"white"===h.currentFill?h.currentFill=h.colour:h.currentFill="white"},t.executeCueSet3=function(i){var e=i.ticks,s=i.midi,n=e%t.barAsTicks,r=(t.direction,t.direction,t.map(s,36,45,25,16)+"-"+(31-n/t.PPQ)),h=t.rectangles.find((function(t){return Object.keys(t)[0]===r}))[r];h.switchFill=!0,"white"===h.currentFill?h.currentFill=h.colour:h.currentFill="white"},t.resetOutline=function(){for(var i=0;i<t.rectangles.length;i++){var e=t.rectangles[i];e[Object.keys(e)[0]].drawOutline=!1}},t.resetSwitchFill=function(){for(var i=0;i<t.rectangles.length;i++){var e=t.rectangles[i];e[Object.keys(e)[0]].switchFill=!1}},t.populateRectanglesArray=function(){for(var i=t.width/t.numOfCells,e=t.height/t.numOfCells,s=0;s<t.numOfCells;s++)for(var n=0;n<t.numOfCells;n++){var r=parseInt(i*s+i/2),h=parseInt(e*n+e/2),a=s+"-"+n,o=360/t.numOfCells*s,c=(t.numOfCells,80/t.numOfCells*n*.9+20),l=t.color(o,c,100),d={};d[a]=new g(t,r,h,i,e,l),t.rectangles.push(d)}},t.mousePressed=function(){t.audioLoaded&&(t.song.isPlaying()?t.song.pause():(parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&t.reset(),document.getElementById("play-icon").classList.add("fade-out"),t.canvas.addClass("fade-in"),t.song.play()))},t.creditsLogged=!1,t.logCredits=function(){!t.creditsLogged&&parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&(t.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),t.song.stop())},t.reset=function(){},t.updateCanvasDimensions=function(){t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.canvas=t.resizeCanvas(t.canvasWidth,t.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){t.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){t.updateCanvasDimensions()}),!0)};return Object(s.useEffect)((function(){new a(i,t.current)}),[]),Object(c.jsx)("div",{ref:t,children:Object(c.jsx)(l,{})})};var v=function(){return Object(c.jsx)(w,{})};h.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.81946bb1.chunk.js.map
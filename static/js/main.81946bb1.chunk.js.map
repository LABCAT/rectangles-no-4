{"version":3,"sources":["js/helpers/Globals.js","js/functions/PlayIcon.js","js/classes/Rectangle.js","audio/rectangles-no-4.ogg","audio/rectangles-no-4.mid","js/P5SketchWithAudio.js","js/App.js","index.js"],"names":["window","p5","PlayIcon","id","className","xmlns","height","viewBox","width","d","fill","Rectangle","x","y","colour","this","p","origX","origY","origWidth","origHeight","area","currentFill","switchFill","animate","drawOutline","rotation","clockwise","Math","random","maxArea","direction","centerX","strokeWeight","stroke","rect","noFill","translate","rotate","baseWidth","baseHeight","i","P5SketchWithAudio","sketchRef","useRef","Sketch","canvas","canvasWidth","innerWidth","canvasHeight","innerHeight","audioLoaded","player","PPQ","tempo","barAsSeconds","floor","barAsTicks","loadMidi","Midi","fromUrl","midi","then","result","noteSet1","tracks","notes","noteSet2","noteSet3","scheduleCueSet","document","getElementById","classList","add","remove","preload","song","loadSound","audio","onended","logCredits","noteSet","callbackName","poly","lastTicks","currentCue","length","note","ticks","time","addCue","setup","createCanvas","colorMode","HSB","rectMode","CENTER","angleMode","DEGREES","populateRectanglesArray","frameRate","background","draw","isPlaying","reDraw","rectangles","obj","rectangle","Object","keys","update","reset","numOfCells","resetCues","executeCueSet1","modulo","key","find","o","includes","resetOutline","executeCueSet2","map","resetSwitchFill","executeCueSet3","j","parseInt","hue","saturation","color","push","mousePressed","pause","currentTime","buffer","duration","addClass","play","creditsLogged","console","log","stop","updateCanvasDimensions","resizeCanvas","attachEvent","addEventListener","useEffect","current","ref","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.81946bb1.chunk.js","sourcesContent":["// p5.sound doesn't work correctly when p5 is not available in the global name space so we add it here\n// https://github.com/processing/p5.js-sound/issues/512\nimport * as p5 from \"p5\";\nwindow.p5 = p5;\n","export default function PlayIcon() {\n    return (\n        <svg id=\"play-icon\" className='fade-out' xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n        </svg>\n    )\n}\n","export default class Rectangle {\n    constructor(p5, x, y, width, height, colour) {\n        this.p = p5;\n        this.origX = x;\n        this.x = x;\n        this.origY = y;\n        this.y = y;\n        this.origWidth = width;\n        this.width = width;\n        this.origHeight = height;\n        this.height = height;\n        this.area = this.width * this.height;\n        this.colour = colour;\n        this.currentFill = colour;\n        this.switchFill = false;\n        this.animate = false;\n        this.drawOutline = false;\n        this.rotation = 0;\n        this.clockwise = Math.random() < 0.5; \n        this.maxArea = this.area * 1.25;\n        this.direction = 'left';\n    }\n\n    reset() {\n        this.x = this.origX;\n        this.y = this.origY;\n        this.width = this.origWidth;\n        this.height = this.origHeight;\n        this.area = this.width * this.height;\n        this.animate = false;\n        this.rotation = 0;\n    }\n\n    update() {\n        if(this.animate){\n            const centerX = this.p.width / 2; \n            if(this.direction === 'left' &&  this.x < this.p.width){\n                this.x = this.x + 16 > this.p.width ? this.p.width :  this.x + 16;\n            }\n            else if(this.direction === 'right' &&  centerX && this.x > 0){\n                this.x = this.x - 16 < 0 ? 0 : this.x - 16;\n            }\n            if(this.y < this.p.height){\n               this.y = this.y + 8 >= this.p.height ? this.p.height : this.y + 8;\n            }\n            this.width = this.width + 2;\n            this.height = this.height + 2;\n            this.area = this.width * this.height;\n            this.rotation = this.clockwise ? this.rotation + 6 : this.rotation - 6;\n        }\n    }\n\n    draw() {\n        this.p.strokeWeight(1);\n        if(this.switchFill){\n            this.p.strokeWeight(5);\n            if(this.currentFill === 'white'){\n                this.p.stroke(this.colour)\n                this.p.fill(255);\n            }\n            else {\n                this.p.stroke(255);\n                this.p.fill(this.colour);\n            }\n            this.p.rect(this.origX, this.origY, this.origWidth / 2, this.origHeight / 2);\n        }\n        else if(this.drawOutline) {\n            this.p.fill(this.colour);\n            this.p.rect(this.origX, this.origY, this.origHeight, this.origHeight);\n        }\n        this.p.stroke(this.colour);\n        this.p.noFill();\n        this.p.translate(this.x, this.y);\n        if(!this.animate) {\n             //this.p.fill(this.colour);\n        }\n        this.p.rotate(this.rotation);\n         if(this.animate) {\n            let baseWidth = this.width, \n                baseHeight = this.height;\n            // this.p.fill(this.colour);\n            //this.p.rect(0, 0, baseWidth, baseHeight);\n            this.p.strokeWeight(2);\n            for (let i = 0; i <= 8; i++) {\n                this.p.rect(0, 0, baseWidth, baseHeight);\n                baseWidth = baseWidth * 0.8;\n                baseHeight = baseHeight * 0.8;\n            }\n        }\n        //this.p.rect(0, 0, this.width, this.height);\n        this.p.rotate(-this.rotation);\n        this.p.translate(-this.x, -this.y);\n    }\n}","export default __webpack_public_path__ + \"static/media/rectangles-no-4.9206a5c2.ogg\";","export default __webpack_public_path__ + \"static/media/rectangles-no-4.66e7c9a2.mid\";","import React, { useRef, useEffect } from \"react\";\nimport \"./helpers/Globals\";\nimport \"p5/lib/addons/p5.sound\";\nimport * as p5 from \"p5\";\nimport { Midi } from '@tonejs/midi'\nimport PlayIcon from './functions/PlayIcon.js';\n\nimport Rectangle from './classes/Rectangle.js';\n\nimport audio from \"../audio/rectangles-no-4.ogg\";\nimport midi from \"../audio/rectangles-no-4.mid\";\n\nconst P5SketchWithAudio = () => {\n    const sketchRef = useRef();\n\n    const Sketch = p => {\n\n        p.canvas = null;\n\n        p.canvasWidth = window.innerWidth;\n\n        p.canvasHeight = window.innerHeight;\n\n        p.audioLoaded = false;\n\n        p.player = null;\n\n        p.PPQ = 3840;\n\n        p.tempo = 96;\n\n        p.barAsSeconds = Math.floor(((60 / p.tempo) * 4) * 100000) / 100000;\n\n        p.barAsTicks = p.PPQ * 16;\n\n        p.loadMidi = () => {\n            Midi.fromUrl(midi).then(\n                function(result) {\n                    const noteSet1 = result.tracks[7].notes; // Sampler 1 - Dance Saw\n                    const noteSet2 = result.tracks[1].notes; // Redurm 1 Copy - House Kit 05\n                    const noteSet3 = result.tracks[0].notes; // Redurm 1 - Drum N Bass 03\n                    p.scheduleCueSet(noteSet1, 'executeCueSet1');\n                    p.scheduleCueSet(noteSet2, 'executeCueSet2', true);\n                    p.scheduleCueSet(noteSet3, 'executeCueSet3', true);\n                    p.audioLoaded = true;\n                    document.getElementById(\"loader\").classList.add(\"loading--complete\");\n                    document.getElementById(\"play-icon\").classList.remove(\"fade-out\");\n                }\n            );\n            \n        }\n\n        p.preload = () => {\n            p.song = p.loadSound(audio, p.loadMidi);\n            p.song.onended(p.logCredits);\n        }\n\n        p.scheduleCueSet = (noteSet, callbackName, poly = false)  => {\n            let lastTicks = -1,\n                currentCue = 1;\n            for (let i = 0; i < noteSet.length; i++) {\n                const note = noteSet[i],\n                    { ticks, time } = note;\n                if(ticks !== lastTicks || poly){\n                    note.currentCue = currentCue;\n                    p.song.addCue(time, p[callbackName], note);\n                    lastTicks = ticks;\n                    currentCue++;\n                }\n            }\n        } \n\n        p.setup = () => {\n            p.canvas = p.createCanvas(p.canvasWidth, p.canvasHeight);\n            p.colorMode(p.HSB);\n            p.rectMode(p.CENTER);\n            p.angleMode(p.DEGREES);\n            p.populateRectanglesArray();\n            p.frameRate(16);\n            p.background(0);\n        }\n\n        p.draw = () => {\n            if(p.audioLoaded && p.song.isPlaying()){\n                p.reDraw();\n            }\n        }\n\n        p.reDraw = () => {\n            p.background(0);\n            for (let i = 0; i < p.rectangles.length; i++) {\n                const obj =  p.rectangles[i],\n                    key = Object.keys(obj)[0],\n                    rectangle = obj[key],\n                    { x, y } = rectangle;\n                rectangle.draw();\n                rectangle.update();\n                if (y === p.height && (x <= 0 || x >= p.width)) {\n                    rectangle.reset();\n                }\n            }\n        }\n\n        p.rectangles = [];\n\n        p.numOfCells = 32;\n\n        p.resetCues = [18, 36, 54, 72, 90, 108, 126, 144, 162, 180, 198, 216];\n\n        p.direction = 'left';\n\n        p.executeCueSet1 = (note) => {\n                const { ticks, midi, currentCue } = note,\n                modulo = ticks % (p.barAsTicks * 2),\n                xKey = p.direction === 'left' ? modulo / p.PPQ : (31 - modulo / p.PPQ),\n                //key = modulo / p.PPQ + '-' + p.map(midi, 40, 47, 0, 7),\n                key = xKey + '-' + Math.floor(p.random(0, 16)),\n                //key = Math.floor(p.random(0, 32)) + '-' + Math.floor(p.random(0, 32)),\n                obj = p.rectangles.find(o => Object.keys(o)[0] === key),\n                rectangle = obj[key];\n\n            if(p.resetCues.includes(currentCue)){\n                p.resetOutline();\n                p.direction = p.direction === 'left' ? 'right' : 'left';\n            }\n\n            rectangle.direction = p.direction;\n            rectangle.width = 0;\n            rectangle.height = 0;\n            rectangle.animate = true;\n            rectangle.drawOutline = true;\n        }\n\n        p.executeCueSet2 = (note) => {\n            const { ticks, midi } = note,\n                modulo = ticks % p.barAsTicks,\n                lowerMap = p.direction === 'left' ?  22 : 9,\n                upperMap = p.direction === 'left' ? 31 : 0,\n                key = p.map(midi, 36, 45, 6, 15) + '-' + (31 - modulo / p.PPQ),\n                obj = p.rectangles.find(o => Object.keys(o)[0] === key),\n                rectangle = obj[key];\n            if(modulo === 0){\n                p.resetSwitchFill();\n            }\n            rectangle.switchFill = true;\n            if(rectangle.currentFill === 'white'){\n                rectangle.currentFill = rectangle.colour;\n            }\n            else {\n                rectangle.currentFill = 'white';\n            }\n        }\n\n        p.executeCueSet3 = (note) => {\n            const { ticks, midi } = note,\n                modulo = ticks % p.barAsTicks,\n                lowerMap = p.direction === 'left' ? 22 : 9,\n                upperMap = p.direction === 'left' ? 31 : 0,\n                key = p.map(midi, 36, 45, 25, 16) + '-' + (31 - modulo / p.PPQ),\n                obj = p.rectangles.find(o => Object.keys(o)[0] === key),\n                rectangle = obj[key];\n            rectangle.switchFill = true;\n            if(rectangle.currentFill === 'white'){\n                rectangle.currentFill = rectangle.colour;\n            }\n            else {\n                rectangle.currentFill = 'white';\n            }\n        }\n\n        p.resetOutline = () => {\n            for (let i = 0; i < p.rectangles.length; i++) {\n                const obj =  p.rectangles[i],\n                    key = Object.keys(obj)[0],\n                    rectangle = obj[key];\n                rectangle.drawOutline = false;\n            }\n        }\n\n        p.resetSwitchFill = () => {\n            for (let i = 0; i < p.rectangles.length; i++) {\n                const obj =  p.rectangles[i],\n                    key = Object.keys(obj)[0],\n                    rectangle = obj[key];\n                rectangle.switchFill = false;\n            }\n        }\n\n        p.populateRectanglesArray = () => {\n            const width = p.width / p.numOfCells,\n                height = p.height / p.numOfCells;\n            for (let i = 0; i < p.numOfCells; i++) {\n                for (let j = 0; j < p.numOfCells; j++) {\n                    const x = parseInt(width * i + width /2),\n                        y = parseInt(height * j + height /2), \n                        key = i + '-' + j,\n                        hue = 360 / p.numOfCells * i,\n                        brightness = 100 - 100 / p.numOfCells * j * 0.9,\n                        saturation = 80 / p.numOfCells * j * 0.9 + 20,\n                        colour = p.color(hue, saturation, 100),\n                        obj = {};\n\n                    obj[key] = new Rectangle(p, x, y, width, height, colour);\n                    p.rectangles.push(obj);\n                }\n            }\n        }\n\n        p.mousePressed = () => {\n            if(p.audioLoaded){\n                if (p.song.isPlaying()) {\n                    p.song.pause();\n                } else {\n                    if (parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)) {\n                        p.reset();\n                    }\n                    document.getElementById(\"play-icon\").classList.add(\"fade-out\");\n                    p.canvas.addClass(\"fade-in\");\n                    p.song.play();\n                }\n            }\n        }\n\n        p.creditsLogged = false;\n\n        p.logCredits = () => {\n            if (\n                !p.creditsLogged &&\n                parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)\n            ) {\n                p.creditsLogged = true;\n                    console.log(\n                    \"Music By: http://labcat.nz/\",\n                    \"\\n\",\n                    \"Animation By: https://github.com/LABCAT/\"\n                );\n                p.song.stop();\n            }\n        };\n\n        p.reset = () => {\n\n        }\n\n        p.updateCanvasDimensions = () => {\n            p.canvasWidth = window.innerWidth;\n            p.canvasHeight = window.innerHeight;\n            p.canvas = p.resizeCanvas(p.canvasWidth, p.canvasHeight);\n        }\n\n        if (window.attachEvent) {\n            window.attachEvent(\n                'onresize',\n                function () {\n                    p.updateCanvasDimensions();\n                }\n            );\n        }\n        else if (window.addEventListener) {\n            window.addEventListener(\n                'resize',\n                function () {\n                    p.updateCanvasDimensions();\n                },\n                true\n            );\n        }\n        else {\n            //The browser does not support Javascript event binding\n        }\n    };\n\n    useEffect(() => {\n        new p5(Sketch, sketchRef.current);\n    }, []);\n\n    return (\n        <div ref={sketchRef}>\n            <PlayIcon />\n        </div>\n    );\n};\n\nexport default P5SketchWithAudio;\n","import P5SketchWithAudio from './P5SketchWithAudio'\n\nfunction App() {\n  return (\n    <P5SketchWithAudio/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/build.css';\nimport App from './js/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}